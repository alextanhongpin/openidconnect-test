<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <div>
    <h1>Server</h1>
    <p>Login to continue</p>

    <div>
      <label>Email</label>
      <input type="email" name="">
    </div>

    <div>
      <label>Password</label>
      <input type="password" name="">
    </div>

    <button id="submit">Login</button>

    <a href="/logout">Logout</a>
   
  </div>

  <script type="text/javascript">
    'use strict'

    document.getElementById('submit').addEventListener('click', (evt) => {
      fetch('/login', {
        method: 'POST',
        body: JSON.stringify({ referer: '<%- referer %>'}),
        headers: {
          'content-type': 'application/json',
          'authorization': 'bearer this.is.your.bearer.token'
        }
      })
      .then((response) => {
        return response.json()
      }).then((json) => {
        console.log(json)
        window.location.href = json.redirect_uri
      })
      .catch((error) => {
        console.log(err)
      })
    }, false)
  </script>
</body>
</html>